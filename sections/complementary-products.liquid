{% comment %}
  Render `Complementary Product` on product
  This section is fetched using `Section Rendering` shopify feature
  **Note: Hard coding this section anywhere on the products page will not render any elements
{% endcomment %}

<div products-data>
  {%- if recommendations.performed? and recommendations.products_count > 0 -%}
    {%- if recommendations.products_count > 1 -%}
      <carousel-component
        class="swiper"
        slide-layout-type="carousel"
        slide-pagination-type="bullets"
        slide-per-view="1"
        slide-responsive-breakpoints='{"450":{"slidesPerView": "1.3"},"767":{"slidesPerView": "1"},"1200":{"slidesPerView": "1.3"}}'
        slide-speed="600">
        <div class="swiper-container" main-slider>
          <div class="swiper-wrapper">
            {%- for product in recommendations.products -%}
              <div class="swiper-slide h-auto">
                {% render 'complementary-product-card' product: product %}
              </div>
            {%- endfor -%}
          </div>
          <div class="sliderControl">
            <div class="sliderPagination d-flex justify-content-center align-item-center">

              <!-- next / prev arrows -->
              <div class="" slide-prev>
                <div class="sliderPagination__prev productSlider__prev">
                  {% render 'slider-arrow-icon', arrow_direction: 'left' %}
                </div>
              </div>
              <div class="sliderProgressBar" slide-progress></div>
              <div class="" slide-next>
                <div class="sliderPagination__next productSlider__next">
                  {% render 'slider-arrow-icon', arrow_direction: 'right' %}
                </div>
              </div>

              <!-- !next / prev arrows -->
            </div>
          </div>
        </div>
      </carousel-component>
    {%- else -%}
      {%- for product in recommendations.products -%}
        {% render 'complementary-product-card' product: product %}
      {% endfor %}
    {%- endif -%}
  {%- endif -%}
</div>
